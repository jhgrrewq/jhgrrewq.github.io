---
title: js 事件循环
tag: 
	- 事件循环
---

<!-- markdownlint-disable MD010 -->

## 同步 异步 （关注消息通信机制）

同步是**指发出一个“调用”时候，在没有的结果的时候，该“调用”就不返回。但是一旦返回就得到了返回值**。这是由“调用者”主动等待这个“调用结果”

异步是**在“调用”发出后就立即返回。当一个异步过程调用发出后，调用者不会立即得到结果。而是在“调用”发出后，“被调用者”通过状态、通知来通知调用者，或通过回调函数处理这个调用**

同步和异步的区别在于关注消息通信机制，同步会等待最终的调用结果，异步不会返回调用结果，而是之后通过事件、通知等来通知调用者

<!-- more -->

## 阻塞 非阻塞 （关注程序在等待结果时候的状态）

阻塞调用是**指在调用结果返回之前，当前线程会被挂起。调用线程只在得到结果之后才会返回**

非阻塞调用是**指在不能立刻得到结果之前，该调用不会阻塞当前进程**

阻塞和非阻塞的区别在于关注程序在等到结果时候的状态，是否会挂起，阻塞当前线程

## 举例

当你打电话向餐馆预定包厢，如果是同步机制，餐馆老板会让你等一下，等查到是否有包厢（时间可长可短）再告诉你结果（返回结果）；如果异步机制，餐厅老板会直接和你说，查好了给你会电话（不会立即返回结果），等查好了，他打电话被你（通过“回电”这种方式回调）

阻塞调用是你会一直把自己“挂起”，直到自己得知包厢还有没有的结果；非阻塞调用是你不管餐馆老板有没有告诉你，你先自己一边玩去做自己的事情。

**阻塞非阻塞与是否同步无关，与餐馆老板以什么方式回答你的结果无关**

同步阻塞调用就是你电话问餐馆老板，有没有包厢，自己一直把自己“挂起”，你自己干等着，一直在原地等电话那头的餐馆老板回复结果
同步非阻塞调用是你电话问餐馆老板，有没有包厢，你自己虽然也会干一些其他事情，但是会每隔几分钟就问老板查询结果，直到等餐馆老板回复结果
异步阻塞调用就是你电话问餐馆老板，有没有包厢，老板说查到后打电话通知你就挂断电话。但是你干等着，最后老板过一段时间查到结果打电话通知你
异步非阻塞调用就是你电话问餐馆老板，有没有包厢，老板说查到后打电话通知你就挂断电话。你去干其他事情去了，最后老板过一段时间查到结果打电话通知你

**js 单线程中不存在同步非阻塞和异步阻塞，只有同步阻塞和异步非阻塞**

## 进程 线程


